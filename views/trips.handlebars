<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Your Trips</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <header>
        <h1>Your Trips</h1>
        {{> navigation}} <!-- Include the navigation partial -->
    </header>
    <main>
        {{#if trips.length}}
            <select id="tripDropdown">
                {{#each trips}}
                    <option 
                        value="{{this.id}}"
                        data-trip-origin="{{this.trip_origin}}"
                        data-trip-destination="{{this.destination}}"
                        data-trip-start-date="{{this.start_date}}"
                        data-trip-end-date="{{this.end_date}}"
                        data-trip-budget="{{this.budget}}">
                        {{this.trip_name}}
                    </option>
                {{/each}}
            </select>
            <button id="showTripDetails">Show Details</button>
            
            <div id="tripDetails" style="display: none;">
                <p><strong>Origin:</strong> <span id="tripDetailsOrigin"></span></p>
                <p><strong>Destination:</strong> <span id="tripDetailsDestination"></span></p>
                <p><strong>Date:</strong> <span id="tripDetailsDate"></span></p>
                <p><strong>Budget:</strong> <span id="tripDetailsBudget"></span></p>
                <h3>Top Attractions</h3>
                <ul id="poiList"></ul>
                <h3>Cost of Living</h3>
                <div id="results"></div> <!-- Ensure this div exists -->
                <button id="editTrip">Edit Trip</button>
                <button id="deleteTrip">Delete Trip</button>
            </div>

            <div id="editTripForm" style="display: none;">
                <form id="edit-form">
                    <div class="form-group">
                        <label for="edit_trip_origin">Trip Origin:</label>
                        <input type="text" id="edit_trip_origin" name="trip_origin" required>
                    </div>
                    <div class="form-group">
                        <label for="edit_destination">Destination:</label>
                        <input type="text" id="edit_destination" name="destination" required>
                    </div>
                    <div class="form-group">
                        <label for="edit_start_date">Start Date:</label>
                        <input type="date" id="edit_start_date" name="start_date" required>
                    </div>
                    <div class="form-group">
                        <label for="edit_end_date">End Date:</label>
                        <input type="date" id="edit_end_date" name="end_date" required>
                    </div>
                    <div class="form-group">
                        <label for="edit_budget">Budget:</label>
                        <input type="number" id="edit_budget" name="budget" step="0.01" required>
                    </div>
                    <button type="submit">Save Changes</button>
                </form>
            </div>
        {{else}}
            <p>You have no trips planned.</p>
        {{/if}}
    </main>
    <script src="/js/main.js"></script>
</body>
</html>
